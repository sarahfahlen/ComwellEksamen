@using Blazored.LocalStorage
@using ComwellApp.Services.Brugere
@using ComwellApp.Services.Elevplan
@using ComwellApp.Services.Login
@using Shared
@inject ILocalStorageService localStorage
@inject NavigationManager navManager
@inject ILoginService lService

<nav id="navmenu" class="navbar top-nav px-4 @(isMenuOpen ? "menu-open" : "")">
    <a class="navbar-brand" href="/hjem">
        <img src="billeder/Comwell.png" alt="Comwell Logo" class="logo-img"/>
    </a>

    <!-- Højre side: bruger + burger-menu -->

    <div class="nav-right d-flex align-items-center gap-3">
        <!-- Alert-knap med dropdown -->
        @if (currentUser?.Rolle == "Elev")
        {
            <div class="alert-dropdown position-relative" @onclick="ToggleAlertMenu" style="cursor: pointer;">
                <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" fill="white"
                     class="bi bi-bell-fill icon-btn" viewBox="0 0 16 16">
                    <path
                        d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2m.995-14.901a1 1 0 1 0-1.99 0A5 5 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901"/>
                </svg>

                @if (deadlines.Any())
                {
                    <span class="notification-badge">@deadlines.Count</span>
                }
            </div>
        }

        <!-- Bruger logget ind -->
        <div class="brugericon position-relative" @onclick="ToggleUserMenu" style="cursor: pointer;">
            @if (currentUser != null)
            {
                <span class="menu-label">@currentUser.Navn</span>
            }
            else
            {
                <span class="menu-label">Profil</span>
            }

            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white"
                 class="bi bi-person me-2 icon-btn" viewBox="0 0 16 16">
                <path
                    d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
            </svg>
        </div>

        <!-- Burger-menu -->
        <div class="menu-toggle" @onclick="ToggleMenu">
            <span class="menu-label">Menu</span>
            <div class="navbar-toggler">
                @if (!isMenuOpen)
                {
                    <svg xmlns="http://www.w3.org/2000/svg" class="burger-icon icon-btn" width="30" height="25"
                         viewBox="0 0 16 16" fill="currentColor">
                        <path fill-rule="evenodd"
                              d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
                    </svg>
                }
                else
                {
                    <svg xmlns="http://www.w3.org/2000/svg" class="burger-icon icon-btn" width="30" height="25"
                         fill="currentColor" viewBox="0 0 16 16">
                        <path
                            d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                    </svg>
                }
            </div>
        </div>
    </div>
</nav>
@if (isAlertMenuOpen)
{
    <div class="alert-overlay-menu dropdown-panel">
        <strong>@(deadlines.Any() ? "Kommende deadlines indenfor 7 dage" : "Ingen kommende deadlines de næste 7 dage")</strong>
        <ul class="deadline-list">
            @foreach (var d in deadlines)
            {
                <li>@d</li>
            }
        </ul>
    </div>
}

@if (isUserMenuOpen && currentUser != null)
{
    <div class="user-overlay-menu hover-menu">
        <ul class="navbar-nav">
            <li class="nav-item">
                <NavLink class="nav-link" href="/kontoindstillinger" @onclick="CloseMenu">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="nav-icon" viewBox="0 0 16 16">
                        <path
                            d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"/>
                        <path
                            d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"/>
                    </svg>
                    Kontoindstillinger
                </NavLink>
            </li>
            <li class="nav-item">
                <button class="logud" @onclick:stopPropagation="true" @onclick="LogUd">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="nav-icon" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                              d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"/>
                        <path fill-rule="evenodd"
                              d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"/>
                    </svg>
                    Log ud
                </button>
            </li>

        </ul>
    </div>
}

@if (isMenuOpen)
{
    <div class="overlay-menu hover-menu">
        <ul class="navbar-nav">
            <li class="nav-item">
                <NavLink class="nav-link" href="/hjem" @onclick="CloseMenu">
                    <svg xmlns="http://www.w3.org/2000/svg" class="nav-icon" fill="currentColor" viewBox="0 0 16 16">
                        <path
                            d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4z"/>
                    </svg>
                    Hjem
                </NavLink>
            </li>
            @if (currentUser?.Rolle == "Elev")
            {
                <li class="nav-item">
                    <NavLink class="nav-link" href="/elevplan" @onclick="CloseMenu">
                        <svg xmlns="http://www.w3.org/2000/svg" class="nav-icon" viewBox="0 0 97.7 122.88">
                            <path
                                d="M37.75,5.14v5.09a2.57,2.57,0,0,1-2.32,2.55,2.94,2.94,0,0,1-.91.13H25.07V23.46H72.63V12.91H63.17a3,3,0,0,1-.91-.13,2.57,2.57,0,0,1-2.32-2.55V5.14ZM70.3,50.44a10.26,10.26,0,0,1,7.26,3h0a10.27,10.27,0,1,1-14.53,0l.13-.12a10.23,10.23,0,0,1,7.13-2.89Zm4.22,6.05a6,6,0,0,0-8.34-.09l-.09.1a6,6,0,1,0,8.43,0ZM47.17,90.72l4.62-2.63-2.63-4.62L53.49,81l2.62,4.62L60.73,83l2.46,4.33L58.57,90l2.63,4.62L56.87,97l-2.62-4.61L49.63,95l-2.46-4.32ZM15.82,56.39l4.62-2.62-2.63-4.62,4.33-2.46,2.62,4.62,4.62-2.62L31.84,53l-4.62,2.62,2.63,4.62-4.33,2.46L22.9,58.09l-4.62,2.63-2.46-4.33ZM32,84.26a7.08,7.08,0,1,1-5.66,1.06l.21-.14a24.58,24.58,0,0,1-.13-4.45,21.89,21.89,0,0,1,5.17-13.07,21.68,21.68,0,0,1,13.72-7.14c.64-.1,1.31-.17,2-.22l-3.39-2.83,3.54-4.23,11,9.15L48.54,72.58l-4-3.82,2.84-2.93q-.69,0-1.35.15A15.58,15.58,0,0,0,31.91,81.06a19.06,19.06,0,0,0,.07,3.2Zm.45,5.41a2.59,2.59,0,0,0-1.65-1.06,2.54,2.54,0,0,0-1.91.41,2.59,2.59,0,0,0-1.06,1.64,2.52,2.52,0,0,0,.41,1.91,2.56,2.56,0,0,0,4.62-1,2.6,2.6,0,0,0-.41-1.92Zm-8.64-61a4,4,0,0,1-2.73-1.13c-.09-.1-.13-.19-.22-.28a3.93,3.93,0,0,1-.91-2.45V19.64H5.68a.51.51,0,0,0-.41.19.67.67,0,0,0-.18.4v96.92a.46.46,0,0,0,.18.41.6.6,0,0,0,.41.18H92a.56.56,0,0,0,.41-.18.44.44,0,0,0,.19-.41V20.23a.68.68,0,0,0-.19-.4.49.49,0,0,0-.41-.19H77.77v5.19a3.93,3.93,0,0,1-.91,2.45c-.09.09-.14.18-.23.28a3.92,3.92,0,0,1-2.72,1.13ZM5.73,122.88A5.74,5.74,0,0,1,0,117.15V20.23A5.75,5.75,0,0,1,5.73,14.5H20V11.69a3.89,3.89,0,0,1,3.87-3.87h8.82V4.27a4.25,4.25,0,0,1,1.27-3,4.25,4.25,0,0,1,3-1.27H60.76a4.22,4.22,0,0,1,3,1.27,4.22,4.22,0,0,1,1.28,3V7.82h8.82a3.88,3.88,0,0,1,3.86,3.87V14.5H92a5.77,5.77,0,0,1,5.73,5.73v96.92A5.74,5.74,0,0,1,92,122.88Z"/>
                        </svg>
                        Elevplan
                    </NavLink>
                </li>
            }
            <li class="nav-item">
                <NavLink class="nav-link" href="/dashboard" @onclick="CloseMenu">
                    <svg xmlns="http://www.w3.org/2000/svg" class="nav-icon" viewBox="0 0 122.88 115.49">
                        <path
                            d="M36,68.78c0,0.8-0.65,1.44-1.44,1.44c-0.8,0-1.44-0.65-1.44-1.44V33.51H2.88v71.08h4.99c0.8,0,1.44,0.65,1.44,1.44 c0,0.8-0.65,1.44-1.44,1.44H1.44c-0.8,0-1.44-0.65-1.44-1.44V32.74c0-0.58,0.24-1.11,0.62-1.5c0.38-0.38,0.91-0.62,1.5-0.62h31 V2.53c0-0.69,0.28-1.33,0.74-1.78V0.74C34.32,0.28,34.95,0,35.65,0H87c0.7,0,1.33,0.28,1.79,0.74l0.11,0.12 c0.39,0.45,0.64,1.03,0.64,1.67v28.09h31.22c0.58,0,1.11,0.24,1.49,0.62l0.01,0.01c0.38,0.38,0.62,0.91,0.62,1.49v73.29 c0,0.8-0.65,1.44-1.44,1.44h-9.14c-0.8,0-1.44-0.65-1.44-1.44c0-0.8,0.65-1.44,1.44-1.44H120V33.51H89.53v34.85 c0,0.8-0.65,1.44-1.44,1.44c-0.8,0-1.44-0.65-1.44-1.44V2.88H36V68.78L36,68.78z M97.15,68.54h15.9c0.13,0,0.24,0.08,0.24,0.17v4.7 c0,0.1-0.11,0.18-0.24,0.18h-15.9c-0.13,0-0.24-0.08-0.24-0.18v-4.7C96.91,68.62,97.02,68.54,97.15,68.54L97.15,68.54z M9.71,68.54 h15.9c0.13,0,0.24,0.08,0.24,0.17v4.7c0,0.1-0.11,0.18-0.24,0.18H9.71c-0.13,0-0.24-0.08-0.24-0.18v-4.7 C9.47,68.62,9.58,68.54,9.71,68.54L9.71,68.54z M42.46,8.47H80.2c0.63,0,1.15,0.52,1.15,1.15v12.31c0,0.63-0.52,1.15-1.15,1.15 H42.46c-0.63,0-1.15-0.52-1.15-1.15V9.62C41.3,8.99,41.82,8.47,42.46,8.47L42.46,8.47z M97.4,105.02c-1.05-2.11-2.38-3.9-3.94-5.58 c2.92,1.13,5.91,2.25,8.12,3.64c4.02,2.52,4.32,5.57,4.65,9.95H86.3c0-0.03,0-0.07,0-0.1l-0.37-3.13l1.43,1.24l7-6.09L97.4,105.02 L97.4,105.02L97.4,105.02z M26.08,100.08l2.53,7.44l1.27-4.42l-0.62-0.68c-0.28-0.41-0.34-0.77-0.19-1.08 c0.34-0.67,1.04-0.54,1.69-0.54c0.68,0,1.53-0.13,1.74,0.73c0.07,0.29-0.02,0.59-0.22,0.9l-0.62,0.68l1.27,4.42l2.29-7.44 c0.33,0.3,0.8,0.55,1.34,0.77c-0.19,0.4-0.36,0.81-0.51,1.25c-0.39,1.13-0.64,2.38-0.75,3.77l0.01,0c0,0.03,0,0.07-0.01,0.1 l-0.55,7.06H16.44c-1.1-0.08-1.66-0.65-1.75-1.63l0.38-3.9c0.11-1.39,0.5-2.48,1.13-3.32c0.42-0.55,0.94-0.96,1.51-1.28 C19.53,101.86,24.43,101.57,26.08,100.08L26.08,100.08L26.08,100.08z M24.84,89.53c-0.25,0.02-0.43,0.08-0.57,0.16 c-0.08,0.05-0.13,0.12-0.17,0.2c-0.04,0.09-0.06,0.21-0.06,0.34c0.01,0.41,0.23,0.96,0.66,1.59l0.01,0.01l1.41,2.25 c0.56,0.9,1.16,1.81,1.88,2.48c0.69,0.63,1.54,1.06,2.65,1.07c1.21,0,2.09-0.44,2.81-1.11c0.75-0.7,1.35-1.68,1.94-2.65l1.59-2.62 c0.32-0.73,0.42-1.17,0.32-1.38c-0.06-0.13-0.33-0.16-0.76-0.13c-0.28,0.06-0.56,0.01-0.87-0.15l0.79-2.38 c-2.91-0.04-4.91-0.54-7.26-2.05c-0.77-0.49-1.01-1.06-1.78-1.01c-0.59,0.11-1.08,0.38-1.47,0.8c-0.38,0.4-0.66,0.95-0.84,1.66 l0.47,2.86C25.34,89.62,25.09,89.63,24.84,89.53L24.84,89.53L24.84,89.53z M37.45,88.82c0.34,0.1,0.59,0.3,0.75,0.6 c0.24,0.49,0.15,1.21-0.3,2.23l0,0c-0.01,0.02-0.02,0.04-0.03,0.06l-1.61,2.65c-0.62,1.03-1.26,2.06-2.11,2.86 c-0.89,0.83-1.98,1.38-3.48,1.38c-1.4,0-2.45-0.54-3.31-1.33c-0.83-0.76-1.46-1.73-2.05-2.68l-1.41-2.25 c-0.53-0.79-0.8-1.51-0.82-2.1c-0.01-0.29,0.04-0.55,0.15-0.78c0.11-0.24,0.29-0.45,0.52-0.6c0.11-0.08,0.24-0.14,0.39-0.19 c-0.09-1.2-0.12-2.69-0.06-3.95c0.03-0.31,0.09-0.61,0.17-0.92c0.36-1.29,1.27-2.33,2.39-3.04c0.4-0.25,0.83-0.46,1.29-0.63 c2.72-0.98,6.32-0.45,8.25,1.64c0.79,0.85,1.28,1.98,1.38,3.47L37.45,88.82L37.45,88.82L37.45,88.82z M51.68,78.86 c-0.32,0.04-0.56,0.12-0.74,0.23c-0.12,0.08-0.2,0.18-0.25,0.29c-0.06,0.14-0.09,0.31-0.09,0.5c0.02,0.61,0.35,1.43,0.98,2.37 l0.01,0.02l0,0l2.11,3.36c0.84,1.34,1.72,2.7,2.81,3.7c1.04,0.95,2.29,1.59,3.95,1.59c1.8,0,3.12-0.66,4.18-1.66 c1.12-1.05,2.02-2.5,2.89-3.95l2.37-3.9c0.48-1.09,0.62-1.75,0.47-2.05c-0.1-0.2-0.51-0.25-1.21-0.18c-0.05,0-0.11,0-0.16,0 c-0.29,0-0.6-0.07-0.95-0.23l1.07-3.56c-4.35-0.05-7.32-0.81-10.84-3.06c-1.16-0.74-1.5-1.58-2.66-1.5 c-0.87,0.17-1.61,0.56-2.19,1.19c-0.56,0.6-0.98,1.42-1.26,2.48l0.75,4.31C52.49,79.01,52.07,79.03,51.68,78.86L51.68,78.86 L51.68,78.86z M53.64,94.59l3.78,11.11l1.9-6.59l-0.93-1.02c-0.42-0.61-0.51-1.15-0.28-1.61c0.5-1,1.55-0.81,2.52-0.81 c1.02,0,2.28-0.19,2.6,1.08c0.11,0.43-0.03,0.87-0.33,1.34l-0.93,1.02l1.9,6.59l3.42-11.11c2.47,2.22,8.82,2.67,11.54,4.18 c0.74,0.41,1.41,0.92,1.98,1.57c0.01-0.07,0.03-0.15,0.07-0.21c0.3-0.59,0.92-0.48,1.5-0.48c0.61,0,1.36-0.11,1.55,0.65 c0.06,0.25-0.02,0.52-0.19,0.8l-0.55,0.61l1.13,3.92l-1.45,1.15l0.48,6.29c-0.14,1.47-0.97,2.31-2.61,2.44H40.2 c-1.64-0.13-2.47-0.97-2.61-2.44l0.57-7.41c0.16-2.07,0.74-3.71,1.69-4.96c0.62-0.82,1.4-1.43,2.26-1.91 C44.82,97.26,51.17,96.81,53.64,94.59L53.64,94.59L53.64,94.59z M70.6,77.79c0.51,0.15,0.89,0.44,1.12,0.9 c0.36,0.73,0.22,1.8-0.45,3.33l0,0c-0.01,0.03-0.03,0.06-0.04,0.09l-2.41,3.96c-0.93,1.54-1.88,3.07-3.15,4.26 c-1.33,1.24-2.96,2.07-5.19,2.06c-2.09,0-3.66-0.8-4.95-1.98c-1.24-1.13-2.17-2.58-3.07-4l-2.11-3.36 c-0.79-1.17-1.19-2.25-1.22-3.14c-0.01-0.43,0.06-0.82,0.22-1.16c0.17-0.36,0.43-0.67,0.78-0.9c0.17-0.12,0.37-0.21,0.58-0.29 c-0.13-1.8-0.17-4.02-0.09-5.89c0.05-0.46,0.13-0.91,0.26-1.37c0.54-1.93,1.89-3.48,3.57-4.54c0.59-0.38,1.24-0.69,1.92-0.93 c4.05-1.47,9.43-0.67,12.31,2.45c1.17,1.27,1.91,2.95,2.07,5.17L70.6,77.79L70.6,77.79L70.6,77.79z M77.93,96.13l1.86-0.05 l1.55-0.04c-1.8-5.55-1.2-10.65,3.14-14.99c0.74,2.38,2.39,4.35,5.2,5.8c1.34,1,2.64,2.2,3.9,3.59c0.22-0.92-0.63-2.03-1.66-3.18 c0.95,0.47,1.83,1.13,2.45,2.4c0.72,1.47,0.71,2.71,0.47,4.31c-0.11,0.74-0.29,1.44-0.55,2.07h2.57c2.71-5.8,0.99-14.41-4.55-18.06 c-1.7-1.12-2.92-1.08-4.92-1.08c-2.28,0-3.45,0.07-5.41,1.37c-2.88,1.91-4.66,5.21-5.4,9.79C76.43,90.35,76.33,94.3,77.93,96.13 L77.93,96.13L77.93,96.13z M97.15,58.27h15.9c0.13,0,0.24,0.08,0.24,0.18v4.7c0,0.1-0.11,0.18-0.24,0.18h-15.9 c-0.13,0-0.24-0.08-0.24-0.18v-4.7C96.91,58.35,97.02,58.27,97.15,58.27L97.15,58.27z M97.15,47.99h15.9 c0.13,0,0.24,0.08,0.24,0.18v4.7c0,0.1-0.11,0.18-0.24,0.18h-15.9c-0.13,0-0.24-0.08-0.24-0.18v-4.7 C96.91,48.07,97.02,47.99,97.15,47.99L97.15,47.99z M9.71,58.27h15.9c0.13,0,0.24,0.08,0.24,0.18v4.7c0,0.1-0.11,0.18-0.24,0.18 H9.71c-0.13,0-0.24-0.08-0.24-0.18v-4.7C9.47,58.35,9.58,58.27,9.71,58.27L9.71,58.27z M9.71,47.99h15.9 c0.13,0,0.24,0.08,0.24,0.18v4.7c0,0.1-0.11,0.18-0.24,0.18H9.71c-0.13,0-0.24-0.08-0.24-0.18v-4.7 C9.47,48.07,9.58,47.99,9.71,47.99L9.71,47.99z M71.67,49.08h8.49c0.13,0,0.24,0.11,0.24,0.24v8.49c0,0.13-0.11,0.24-0.24,0.24 h-8.49c-0.13,0-0.24-0.11-0.24-0.24v-8.49C71.43,49.19,71.54,49.08,71.67,49.08L71.67,49.08z M57.08,49.08h8.49 c0.13,0,0.24,0.11,0.24,0.24v8.49c0,0.13-0.11,0.24-0.24,0.24h-8.49c-0.13,0-0.24-0.11-0.24-0.24v-8.49 C56.84,49.19,56.95,49.08,57.08,49.08L57.08,49.08z M42.49,49.08h8.49c0.13,0,0.24,0.11,0.24,0.24v8.49c0,0.13-0.11,0.24-0.24,0.24 h-8.49c-0.13,0-0.24-0.11-0.24-0.24v-8.49C42.25,49.19,42.36,49.08,42.49,49.08L42.49,49.08z M71.67,32.61h8.49 c0.13,0,0.24,0.11,0.24,0.24v8.49c0,0.13-0.11,0.24-0.24,0.24h-8.49c-0.13,0-0.24-0.11-0.24-0.24v-8.49 C71.43,32.71,71.54,32.61,71.67,32.61L71.67,32.61z M57.08,32.61h8.49c0.13,0,0.24,0.11,0.24,0.24v8.49c0,0.13-0.11,0.24-0.24,0.24 h-8.49c-0.13,0-0.24-0.11-0.24-0.24v-8.49C56.84,32.71,56.95,32.61,57.08,32.61L57.08,32.61z M42.49,32.61h8.49 c0.13,0,0.24,0.11,0.24,0.24v8.49c0,0.13-0.11,0.24-0.24,0.24h-8.49c-0.13,0-0.24-0.11-0.24-0.24v-8.49 C42.25,32.71,42.36,32.61,42.49,32.61L42.49,32.61z"/>
                    </svg>
                    Dashboard
                </NavLink>
            </li>
            <li class="nav-item">
                <NavLink class="nav-link" href="/learning" @onclick="CloseMenu">
                    <?xml version="1.0" encoding="utf-8"?>
                    <svg xmlns="http://www.w3.org/2000/svg"
                         viewBox="0 0 122.88 110.33" class="nav-icon"><g>
                            <path
                                d="M13.9,67.74c1.15,0.54,2.34,0.96,3.59,1.28c1.24,0.32,2.54,0.55,3.87,0.67c1.18,0.11,2.4,0.15,3.65,0.12 c1.08-0.03,2.2-0.11,3.35-0.24c-0.26-1.96-0.39-3.7-0.34-5.26c0.05-1.73,0.33-3.22,0.89-4.53c0.52-1.21,1.26-2.23,2.27-3.08 c0.82-0.7,1.82-1.28,3.03-1.76c-0.79-0.75-1.51-1.43-2.14-2.07c-0.8-0.81-1.46-1.55-1.97-2.27c-1.28-1.79-1.7-3.34-1.08-4.99 c0.59-1.56,2.17-3.15,4.91-5.1c1.41-1,2-1.88,2.17-2.75c0.18-0.88-0.07-1.83-0.34-2.88c-0.15-0.6-0.31-1.22-0.43-1.83 c-0.12-0.59-0.21-1.2-0.25-1.86c-1.03-0.96-2.52-2.26-4.32-3.09c-1.85-0.85-4.05-1.22-6.43-0.21c-0.44,0.18-0.91,0.17-1.31,0.01 c-0.41-0.17-0.75-0.49-0.93-0.92l0,0c-0.18-0.44-0.17-0.9-0.01-1.31c0.17-0.41,0.49-0.75,0.92-0.93l0.01,0 c2.86-1.21,5.46-1.09,7.69-0.38c1.91,0.61,3.55,1.66,4.87,2.7c0.24-0.8,0.58-1.65,1.05-2.55c0.61-1.18,1.44-2.45,2.55-3.83 c0.49-0.6,0.97-1.23,1.43-1.9c0.46-0.67,0.89-1.41,1.28-2.23c0.39-0.83,0.74-1.77,1.02-2.86c0.28-1.1,0.5-2.34,0.63-3.78h0 c0.04-0.47,0.27-0.88,0.61-1.17c0.34-0.28,0.78-0.44,1.25-0.4c0.47,0.04,0.88,0.27,1.17,0.61l0.03,0.04 c0.26,0.33,0.41,0.76,0.37,1.22l-0.01,0.05c-0.15,1.64-0.4,3.07-0.73,4.34c-0.34,1.29-0.75,2.41-1.22,3.41 c-0.47,1.01-0.99,1.88-1.52,2.67c-0.53,0.78-1.08,1.48-1.62,2.16c-1.23,1.53-2.04,2.89-2.55,4.1c-0.49,1.17-0.7,2.21-0.75,3.15 c0.04,0.14,0.06,0.29,0.05,0.44c0,0.15-0.02,0.3-0.06,0.44c0.03,0.54,0.1,1.05,0.2,1.55c0.11,0.55,0.23,1.04,0.36,1.51 c0.42,1.62,0.79,3.08,0.48,4.59c-0.32,1.52-1.32,3.03-3.64,4.68c-1.83,1.3-2.89,2.28-3.33,3.14c-0.37,0.73-0.23,1.4,0.3,2.16 c0.79,1.12,2.24,2.49,4.11,4.25c0.77-1.74,1.69-3.21,2.74-4.41c1.2-1.37,2.57-2.39,4.11-3.08c1.7-0.76,3.57-1.1,5.6-1.03 c2.02,0.06,4.2,0.52,6.53,1.35c0.45,0.16,0.79,0.49,0.98,0.89c0.19,0.39,0.22,0.85,0.07,1.29l-0.02,0.05 c-0.16,0.44-0.49,0.77-0.88,0.95c-0.39,0.19-0.85,0.22-1.29,0.07l-0.04-0.01c-1.94-0.69-3.71-1.08-5.31-1.14 c-1.58-0.07-3,0.17-4.25,0.73c-1.24,0.55-2.34,1.44-3.31,2.66c-0.98,1.25-1.81,2.85-2.49,4.82l0,0c-0.06,0.17-0.15,0.33-0.25,0.48 c-0.09,0.12-0.2,0.23-0.32,0.32l-0.02,0.03c-0.01,0.02-0.04,0.05-0.08,0.09c-0.12,0.13-0.26,0.23-0.4,0.31 c-0.13,0.07-0.26,0.13-0.4,0.16c-0.02,0.01-0.05,0.02-0.08,0.02l-0.01,0c-1.66,0.37-2.93,0.86-3.89,1.49 c-0.93,0.61-1.55,1.35-1.94,2.25c-0.43,1-0.62,2.24-0.63,3.73c-0.01,1.53,0.18,3.32,0.49,5.41l0,0.02 c0.01,0.05,0.01,0.11,0.01,0.17c0.9,1.13,1.95,2.09,3.12,2.91c1.23,0.86,2.6,1.56,4.1,2.13c1.61,0.62,3.36,1.08,5.23,1.41 c1.87,0.33,3.86,0.54,5.95,0.65c0.1,0,0.19,0.02,0.28,0.04l0,0c0.09,0.02,0.18,0.04,0.26,0.08c1.09,0.34,2.4,0.43,3.89,0.31 c1.53-0.12,3.23-0.46,5.06-0.95c1.93-0.52,3.98-1.22,6.1-2.02c2.12-0.8,4.33-1.72,6.56-2.68l0.03-0.01 c0.05-0.02,0.11-0.04,0.16-0.06c0.07-0.02,0.13-0.04,0.19-0.05L85,69.12V62.1c0-0.03,0-0.07,0.01-0.1l0-0.05 c0.1-1.15,0.3-2.19,0.59-3.1c0.3-0.93,0.69-1.73,1.18-2.41c0.53-0.74,1.17-1.33,1.91-1.77c0.73-0.43,1.56-0.71,2.48-0.83 c0.06-0.01,0.1-0.02,0.14-0.02l0.01,0c0.05,0,0.09-0.01,0.13-0.01l1.29,0.02v0l0.05,0c2.79,0.04,5.36,0.07,7.3-2.12 c1-1.12,1.64-2.3,2.01-3.52c0.37-1.22,0.46-2.48,0.34-3.75c-0.12-1.34-0.47-2.69-0.95-4.04c-0.49-1.36-1.13-2.69-1.83-3.98 c-0.23-0.42-0.26-0.89-0.14-1.31c0.12-0.42,0.41-0.8,0.83-1.02l0.01,0c0.41-0.22,0.88-0.26,1.3-0.13c0.42,0.12,0.8,0.41,1.02,0.83 l0,0c0.79,1.44,1.51,2.97,2.07,4.53c0.57,1.58,0.97,3.2,1.12,4.83c0.15,1.7,0.03,3.4-0.47,5.06c-0.5,1.66-1.38,3.27-2.73,4.79 c-2.99,3.36-6.33,3.31-9.95,3.26v0l-0.05,0c-0.23,0-0.49-0.01-1.1-0.01c-0.43,0.06-0.81,0.19-1.14,0.39 c-0.33,0.2-0.62,0.46-0.87,0.8c-0.29,0.4-0.53,0.91-0.72,1.51c-0.19,0.62-0.32,1.33-0.4,2.15v6.12l10.93-2.82l0,0l0.02,0 c0.02-0.01,0.04-0.01,0.07-0.02l13-2.54c0.63-0.41,1.22-0.85,1.76-1.31c0.58-0.49,1.1-0.99,1.56-1.51 c1.43-1.59,2.39-3.37,2.97-5.27c0.62-2.05,0.79-4.25,0.59-6.49c-0.19-2.17-0.72-4.38-1.52-6.55c-0.85-2.32-1.99-4.59-3.34-6.73 c-0.94-1.49-1.99-2.92-3.1-4.25c-1.13-1.34-2.32-2.58-3.54-3.68c-0.1-0.09-0.19-0.19-0.26-0.29c-0.07-0.1-0.13-0.2-0.17-0.31 l-0.01-0.03c-1.07-2.65-2.27-5.18-3.74-7.47c-1.46-2.28-3.2-4.32-5.34-6.01c-2.14-1.69-4.7-3.04-7.84-3.94 c-3.16-0.91-6.9-1.37-11.36-1.26c-0.11,0-0.21,0-0.3-0.02c-0.09-0.01-0.18-0.04-0.27-0.06l-0.16-0.05 c-0.85,0.59-1.6,1.21-2.25,1.87c-0.7,0.7-1.28,1.42-1.76,2.18c-0.48,0.77-0.86,1.57-1.14,2.4c-0.28,0.84-0.46,1.71-0.54,2.61 c-0.04,0.43-0.23,0.8-0.52,1.08c-0.28,0.27-0.64,0.44-1.04,0.47c-0.03,0-0.06,0.01-0.09,0.01h-0.01c-1.55,0.09-2.91,0.42-4.09,0.96 c-1.25,0.57-2.31,1.37-3.19,2.37c-0.92,1.03-1.66,2.27-2.24,3.68c-0.61,1.46-1.05,3.1-1.33,4.86c0.19,0.46,0.34,0.94,0.46,1.43 c0.13,0.52,0.23,1.05,0.34,1.58c0.16,0.84,0.33,1.68,0.6,2.34c0.24,0.58,0.57,1.02,1.08,1.19c0.45,0.15,0.8,0.46,0.99,0.86 c0.2,0.39,0.25,0.86,0.1,1.31c-0.15,0.45-0.47,0.8-0.86,0.99c-0.39,0.2-0.86,0.25-1.31,0.1l-0.04-0.02 c-1.47-0.5-2.34-1.42-2.91-2.54c-0.55-1.09-0.79-2.33-1.03-3.58c-0.06-0.32-0.12-0.63-0.2-0.99l-0.01-0.04 c-0.05-0.24-0.11-0.48-0.18-0.7c-1.66-1.25-3.57-0.82-5.42,0.29v0c-1.99,1.19-3.94,3.14-5.5,4.7c-0.33,0.33-0.65,0.65-0.95,0.94 c-0.3,0.29-0.59,0.57-0.89,0.84c-0.35,0.32-0.8,0.46-1.24,0.44c-0.43-0.02-0.85-0.21-1.16-0.55l0,0c-0.02-0.02-0.04-0.04-0.05-0.06 c-0.29-0.35-0.42-0.78-0.4-1.2c0.02-0.43,0.21-0.85,0.55-1.16l0,0c0.02-0.02,0.04-0.03,0.06-0.05c0.44-0.4,1.02-0.98,1.65-1.61 c0-0.01,0.03-0.03,0.04-0.04c1.71-1.72,3.8-3.81,6.11-5.23c2.22-1.36,4.63-2.08,7.07-1.25c0.36-1.68,0.86-3.25,1.5-4.69 c0.69-1.54,1.56-2.93,2.62-4.12c1.09-1.22,2.37-2.23,3.85-2.98c1.31-0.66,2.79-1.13,4.44-1.35c0.16-0.84,0.38-1.66,0.68-2.46 c0.34-0.92,0.78-1.8,1.32-2.65c0.45-0.72,0.98-1.41,1.57-2.07c0.39-0.44,0.81-0.86,1.26-1.27c-1.68-0.44-3.35-0.85-5.01-1.22 c-1.91-0.42-3.8-0.78-5.67-1.07l-0.07,0.03c-0.62,0.23-1.2,0.68-1.73,1.29c-0.62,0.71-1.18,1.64-1.67,2.66 c-0.65,1.36-1.16,2.87-1.54,4.31c-0.49,1.84-0.77,3.59-0.87,4.82c-0.04,0.47-0.27,0.89-0.6,1.17c-0.33,0.28-0.77,0.44-1.23,0.4 l-0.04,0c-0.46-0.04-0.87-0.27-1.15-0.6c-0.28-0.33-0.44-0.77-0.4-1.23l0-0.04c0.12-1.38,0.44-3.35,0.99-5.42 c0.43-1.64,1.01-3.35,1.75-4.9c0.36-0.75,0.75-1.47,1.2-2.13c0.22-0.33,0.44-0.64,0.68-0.93c-0.85-0.07-1.69-0.12-2.54-0.16 c-1.17-0.05-2.34-0.05-3.5-0.02c-4.09,0.12-8.15,0.76-12.21,2.09c-3.89,1.28-7.77,3.19-11.69,5.91c0.45,0.29,0.87,0.61,1.28,0.94 c0.61,0.51,1.17,1.06,1.68,1.65c0.71,0.83,1.3,1.75,1.76,2.72c0.45,0.95,0.76,1.95,0.92,2.98c0.07,0.47-0.06,0.92-0.32,1.28 c-0.26,0.35-0.66,0.61-1.13,0.68c-0.47,0.07-0.92-0.06-1.28-0.32c-0.35-0.26-0.61-0.66-0.68-1.13c-0.11-0.71-0.33-1.4-0.64-2.06 c-0.32-0.68-0.75-1.33-1.26-1.93c-0.52-0.61-1.13-1.17-1.82-1.66c-0.66-0.47-1.38-0.88-2.15-1.19c-0.78,0.42-1.55,0.85-2.29,1.3 c-0.82,0.49-1.62,1.01-2.39,1.54c-1.08,0.75-2.11,1.56-3.09,2.44c-0.85,0.76-1.65,1.57-2.39,2.44c1.92,1.57,2.68,3.24,2.82,4.99 c0.15,1.82-0.38,3.69-0.94,5.65c0,0.02-0.01,0.04-0.02,0.07c-1.01,3.57-2.13,7.57,2.81,11.79c0.36,0.31,0.56,0.74,0.6,1.17 c0.03,0.44-0.1,0.89-0.41,1.25c-0.31,0.36-0.74,0.56-1.17,0.6c-0.44,0.03-0.89-0.1-1.25-0.41c-3.31-2.82-4.6-5.54-4.9-8.13 c-0.3-2.57,0.38-4.97,1.02-7.23c0.42-1.48,0.82-2.89,0.75-4.14c-0.06-1.08-0.49-2.1-1.6-3.02c-1.48,1.67-2.85,3.4-4.07,5.23 c-1.3,1.95-2.41,4.02-3.29,6.24c-0.98,2.49-1.66,5.19-1.95,8.14c-0.29,2.96-0.19,6.19,0.38,9.75c0.3,1.88,0.64,3.55,1.08,5.04 c0.44,1.46,0.98,2.76,1.7,3.91c0.7,1.12,1.59,2.13,2.75,3.07C10.68,66.04,12.12,66.91,13.9,67.74L13.9,67.74z M86.82,42.45 c2.21,2.05,2.91,3.61,2.65,5.16c-0.26,1.56-1.5,2.97-3.15,4.87l0,0c-0.78,0.89-1.67,1.92-2.52,3.07c-0.28,0.38-0.69,0.61-1.13,0.68 c-0.43,0.06-0.89-0.04-1.27-0.32c-0.38-0.28-0.61-0.69-0.68-1.13c-0.06-0.43,0.04-0.89,0.32-1.27c1-1.34,1.9-2.38,2.68-3.28 l0.01-0.01c1-1.15,1.75-2.01,1.93-2.8c0.15-0.67-0.12-1.37-1.05-2.32l-0.37,0.14v0c-0.2,0.07-0.49,0.18-0.83,0.3 c-0.32,0.11-0.67,0.24-1.03,0.37c-0.38,0.14-0.8,0.31-1.23,0.49c-0.17,0.07-0.32,0.14-0.47,0.21l-0.48,0.22 c-0.36,0.17-0.73,0.34-1.1,0.5c-0.39,0.16-0.78,0.31-1.18,0.43c-0.53,0.16-1.09,0.34-1.56,0.49l-0.03,0.01 c-1.28,0.4-1.96,0.62-2.9,0.66c-0.5,0.02-1-0.02-1.63-0.13c-0.62-0.1-1.34-0.26-2.33-0.47l-0.95-0.2 c-0.03-0.01-0.05-0.01-0.08-0.02l-0.1-0.03l-3.98-1.33c-0.03-0.01-0.05-0.01-0.07-0.02c-0.44-0.15-0.77-0.46-0.97-0.85 c-0.19-0.38-0.24-0.84-0.11-1.28l0.02-0.06c0.15-0.44,0.46-0.77,0.85-0.97c0.39-0.19,0.84-0.24,1.28-0.11 c0.03,0.01,0.05,0.02,0.07,0.03l3.85,1.28l0.9,0.19c0.88,0.19,1.53,0.33,2.04,0.41c0.48,0.08,0.81,0.12,1.08,0.11 c0.43-0.02,0.97-0.19,1.98-0.51c0.25-0.07,0.49-0.16,0.74-0.23c0.3-0.09,0.61-0.19,0.91-0.28c0.61-0.18,1.21-0.46,1.81-0.74 l0.52-0.24c0.18-0.08,0.36-0.16,0.55-0.24c1.06-0.45,1.83-0.72,2.45-0.94c0.62-0.22,0.94-0.33,1.02-0.55 c0.13-0.32,0.08-1-0.03-2.36c-0.12-1.56-0.17-2.8-0.09-3.87c0.08-1.1,0.31-2.01,0.76-2.87c0.44-0.85,1.05-1.58,1.91-2.31 c0.83-0.71,1.89-1.43,3.24-2.29L89.15,28c0.42-0.27,0.74-0.46,1.01-0.63l0.05-0.03c0.77-0.47,1.21-0.74,1.42-1.12 c0.23-0.4,0.29-1.04,0.31-2.26c0.01-0.71,0.04-1.36,0.13-1.98c0.09-0.65,0.24-1.25,0.5-1.82c0.3-0.64,0.71-1.2,1.28-1.68 c0.56-0.47,1.28-0.85,2.19-1.14c0.45-0.14,0.92-0.09,1.31,0.11c0.39,0.2,0.7,0.56,0.85,1.01c0.14,0.45,0.09,0.92-0.11,1.31 c-0.2,0.39-0.56,0.7-1.01,0.85c-0.42,0.13-0.73,0.29-0.96,0.46c-0.2,0.15-0.34,0.33-0.43,0.52c-0.12,0.26-0.2,0.6-0.24,0.99 c-0.05,0.43-0.07,0.91-0.08,1.43c-0.04,2.07-0.16,3.17-0.66,4.02c-0.51,0.87-1.31,1.36-2.74,2.24l-0.51,0.31l-0.45,0.28l-0.1,0.07 c-1.14,0.73-2.02,1.31-2.67,1.84c-0.62,0.5-1.03,0.95-1.27,1.42c-0.24,0.47-0.36,1.04-0.4,1.8c-0.04,0.8,0.01,1.82,0.11,3.11 c0.06,0.82,0.11,1.49,0.14,2.1C86.84,41.71,86.84,42.11,86.82,42.45L86.82,42.45z M67.07,67.85c0.36,0.28,0.58,0.67,0.65,1.09 c0.07,0.43-0.02,0.89-0.3,1.28l-0.01,0.01c-0.28,0.38-0.68,0.61-1.11,0.68c-0.43,0.07-0.89-0.02-1.28-0.3l0,0 c-0.25-0.18-0.48-0.37-0.69-0.58c-0.22-0.21-0.42-0.44-0.6-0.68c-0.54-0.71-0.93-1.53-1.16-2.41c-0.24-0.91-0.32-1.89-0.25-2.86 c0.06-0.92,0.26-1.86,0.58-2.75c0.31-0.87,0.74-1.71,1.28-2.46l0,0c0.25-0.34,0.52-0.67,0.81-0.98c0.29-0.3,0.59-0.57,0.92-0.82 L65.99,57c0.48-0.36,0.99-0.68,1.53-0.96c0.54-0.28,1.11-0.52,1.7-0.72c0.6-0.2,1.22-0.37,1.87-0.5c0.64-0.13,1.31-0.22,2-0.28 l0.14-0.01h6c0.48,0,0.91,0.19,1.22,0.5l0.03,0.03c0.29,0.31,0.47,0.73,0.47,1.18c0,0.48-0.19,0.91-0.5,1.22 c-0.31,0.31-0.74,0.5-1.22,0.5h-5.95c-0.53,0.05-1.04,0.12-1.54,0.22c-0.5,0.1-0.98,0.22-1.42,0.37c-0.42,0.14-0.83,0.31-1.21,0.51 c-0.37,0.19-0.72,0.4-1.04,0.64L68,59.79c-0.19,0.15-0.37,0.31-0.54,0.48c-0.18,0.18-0.34,0.38-0.49,0.59 c-0.35,0.48-0.63,1.03-0.84,1.61c-0.21,0.59-0.34,1.21-0.38,1.82l0,0.01c-0.04,0.59,0,1.16,0.13,1.67 c0.12,0.48,0.31,0.91,0.59,1.27l0.02,0.03c0.08,0.1,0.16,0.19,0.25,0.28l0,0c0.09,0.09,0.19,0.17,0.3,0.25L67.07,67.85L67.07,67.85 z M40.58,65.49c-0.45,0.11-0.9,0.03-1.28-0.2l0,0c-0.38-0.23-0.67-0.6-0.79-1.06c-0.12-0.46-0.03-0.92,0.19-1.3l0,0 c0.23-0.38,0.6-0.67,1.06-0.79c3.91-0.99,6.27-1.06,8.13-0.4c1.88,0.67,3.15,2.04,4.93,3.94l0.2,0.22c0.73,0.78,1.33,1.41,1.87,1.9 c0.51,0.47,0.97,0.82,1.42,1.05c0.43,0.22,0.9,0.36,1.49,0.44c0.62,0.09,1.36,0.11,2.28,0.1h0c0.47-0.01,0.9,0.18,1.22,0.48 c0.31,0.3,0.51,0.73,0.52,1.21v0.01h0l0,0.05c-0.01,0.45-0.19,0.87-0.48,1.17c-0.3,0.31-0.73,0.51-1.2,0.52h-0.01v0l-0.04,0 c-1.18,0.02-2.14-0.02-2.98-0.16c-0.88-0.14-1.64-0.38-2.37-0.76c-0.71-0.36-1.35-0.83-2.03-1.44c-0.66-0.59-1.36-1.32-2.2-2.22 l-0.2-0.22c-1.33-1.43-2.29-2.46-3.6-2.92c-1.33-0.46-3.1-0.39-6.09,0.37L40.58,65.49L40.58,65.49z M77.6,23.75 c-0.11-0.31-0.24-0.6-0.39-0.88c-0.2-0.36-0.44-0.69-0.69-0.97c-0.28-0.32-0.58-0.59-0.87-0.81c-0.31-0.23-0.61-0.4-0.88-0.51l0,0 c-0.44-0.17-0.77-0.51-0.95-0.91c-0.18-0.4-0.2-0.87-0.03-1.31l0,0c0.17-0.44,0.51-0.77,0.91-0.95c0.4-0.18,0.87-0.2,1.31-0.03 c0.52,0.2,1.08,0.51,1.63,0.91c0.5,0.37,1,0.82,1.46,1.35c0.28,0.32,0.55,0.67,0.79,1.04c0.14,0.21,0.27,0.43,0.39,0.65 c0.23-0.11,0.47-0.22,0.74-0.34l0.03-0.01c0.43-0.19,0.91-0.39,1.45-0.61c0.54-0.22,1.14-0.47,1.83-0.77 c0.68-0.3,1.44-0.64,2.3-1.06c0.43-0.21,0.9-0.22,1.31-0.07c0.42,0.14,0.78,0.45,0.98,0.88c0.21,0.43,0.22,0.9,0.07,1.31 c-0.14,0.42-0.45,0.78-0.88,0.98c-0.87,0.42-1.67,0.79-2.39,1.1c-0.69,0.3-1.32,0.56-1.89,0.8c-0.02,0.01-0.05,0.02-0.08,0.03 c-2.72,1.13-3.31,1.39-3.6,4.54l-0.01,0.11c-0.18,1.89-0.31,3.36-0.83,4.76c-0.52,1.42-1.41,2.71-3.08,4.2 c-0.35,0.32-0.8,0.46-1.24,0.43c-0.44-0.03-0.87-0.22-1.19-0.57c-0.32-0.35-0.46-0.8-0.43-1.24c0.03-0.44,0.22-0.87,0.57-1.19 c1.18-1.05,1.8-1.97,2.16-2.98c0.37-1.04,0.48-2.21,0.62-3.71l0.01-0.11c0.09-0.99,0.2-1.8,0.35-2.47 C77.22,24.71,77.39,24.19,77.6,23.75L77.6,23.75z M4.86,45.88c0-0.02,0-0.05,0-0.07c0.03-0.45,0.23-0.86,0.54-1.15 c0.32-0.3,0.75-0.48,1.21-0.46v0c0.02,0,0.05,0,0.07,0c0.45,0.03,0.86,0.23,1.15,0.54c0.3,0.32,0.48,0.76,0.46,1.23 c-0.06,1.82,0.52,2.94,1.45,3.73c0.98,0.83,2.38,1.34,3.86,1.88c2.21,0.81,4.55,1.66,6.46,3.42c1.92,1.77,3.37,4.41,3.71,8.74 c0.04,0.47-0.12,0.92-0.41,1.25c-0.29,0.34-0.7,0.56-1.17,0.6c-0.47,0.04-0.92-0.12-1.25-0.41c-0.34-0.29-0.56-0.7-0.6-1.17 c-0.26-3.26-1.35-5.23-2.8-6.54l-0.03-0.03c-1.46-1.31-3.33-1.99-5.09-2.63c-2.01-0.73-3.91-1.43-5.32-2.71 C5.66,50.79,4.77,48.92,4.86,45.88L4.86,45.88L4.86,45.88z M85.28,72.59c0.68,0.3,1.37,0.54,2.09,0.73 c1.15,0.3,2.34,0.48,3.57,0.53c1.69,0.07,3.46-0.08,5.3-0.42c1.85-0.34,3.77-0.87,5.75-1.56c0.45-0.16,0.92-0.12,1.31,0.08 c0.4,0.19,0.72,0.53,0.87,0.98c0.16,0.45,0.12,0.92-0.08,1.31c-0.19,0.4-0.53,0.72-0.98,0.87c-2.16,0.76-4.28,1.34-6.33,1.71 c-2.06,0.37-4.06,0.54-5.99,0.46c-1.91-0.08-3.75-0.4-5.49-0.99c-1.68-0.57-3.28-1.38-4.77-2.47l-5.46,1.41 c1.13,1.38,2.32,2.56,3.59,3.54c1.44,1.11,2.98,1.94,4.63,2.49c1.8,0.59,3.75,0.84,5.85,0.71c2.12-0.13,4.4-0.65,6.85-1.57 c0.44-0.17,0.91-0.14,1.31,0.04c0.4,0.18,0.73,0.52,0.9,0.96c0.17,0.44,0.14,0.91-0.04,1.31c-0.18,0.4-0.52,0.73-0.96,0.9 c-2.82,1.07-5.47,1.66-7.96,1.8c-2.5,0.14-4.84-0.16-7.02-0.88c-2.09-0.69-4.03-1.76-5.83-3.17c-1.69-1.33-3.26-2.97-4.71-4.89 c-0.49,0.2-0.99,0.41-1.51,0.62c-0.41,0.17-0.83,0.34-1.26,0.51c1.12,1.61,2.29,3.04,3.5,4.29c1.34,1.39,2.72,2.55,4.14,3.48 c1.29,0.84,2.59,1.49,3.91,1.92c1.28,0.42,2.56,0.65,3.84,0.67l0.11-0.02l0.04,0c0.05-0.01,0.09-0.01,0.13-0.01 c4.35-0.23,7.99-0.77,10.98-1.69c2.96-0.91,5.3-2.19,7.08-3.92c1.67-1.63,2.88-3.68,3.7-6.24c0.78-2.44,1.19-5.33,1.3-8.73 l-7.54,1.47L85.28,72.59L85.28,72.59z M86.57,91.21l1.75,15.59c0.05,0.46-0.1,0.91-0.37,1.25c-0.27,0.34-0.68,0.58-1.15,0.63 l-0.02,0c-0.46,0.05-0.91-0.1-1.25-0.37c-0.34-0.27-0.58-0.68-0.63-1.15l-1.78-15.84c-1.37-0.12-2.73-0.42-4.07-0.89 c-1.49-0.52-2.96-1.26-4.39-2.2c-1.67-1.1-3.31-2.47-4.87-4.11c-1.47-1.54-2.87-3.31-4.19-5.29c-0.77,0.28-1.54,0.54-2.29,0.78 c-0.89,0.29-1.75,0.54-2.58,0.77l-0.24,0.06c1.57,2.8,3.3,4.92,5.06,6.65c1.88,1.85,3.8,3.25,5.58,4.54 c2.64,1.93,5.01,3.66,6.7,6.18c1.7,2.54,2.68,5.83,2.51,10.85c-0.02,0.47-0.22,0.9-0.54,1.2c-0.32,0.3-0.76,0.48-1.23,0.46 c-0.47-0.01-0.9-0.22-1.2-0.54c-0.3-0.32-0.48-0.76-0.46-1.23c0.14-4.14-0.67-6.85-2.07-8.92c-1.41-2.09-3.45-3.58-5.73-5.23 c-1.97-1.44-4.1-2.99-6.2-5.09c-2.06-2.06-4.09-4.63-5.92-8.12c-1.26,0.2-2.47,0.31-3.6,0.29c-1.24-0.01-2.38-0.17-3.43-0.48 c-2.2-0.12-4.31-0.34-6.31-0.71c-2.03-0.37-3.94-0.88-5.71-1.55c-1.72-0.66-3.32-1.47-4.76-2.48c-1.37-0.95-2.61-2.06-3.69-3.36 c-1.42,0.18-2.81,0.3-4.18,0.34c-1.46,0.04-2.89,0-4.28-0.13c-1.52-0.14-3-0.4-4.43-0.77c-1.43-0.37-2.82-0.87-4.16-1.49 c-2.1-0.98-3.8-2.02-5.2-3.16c-1.41-1.16-2.52-2.42-3.41-3.84c-0.87-1.39-1.52-2.91-2.03-4.61c-0.5-1.67-0.88-3.53-1.22-5.61 c-0.63-3.88-0.73-7.42-0.41-10.67c0.32-3.27,1.08-6.25,2.17-9.01c1.08-2.75,2.48-5.27,4.12-7.62c1.63-2.35,3.48-4.53,5.46-6.62 c0.98-1.23,2.05-2.35,3.18-3.39c1.13-1.03,2.34-1.98,3.6-2.87c1.24-0.86,2.53-1.66,3.86-2.41c1.32-0.75,2.67-1.44,4.03-2.09 c4.37-3.09,8.72-5.25,13.07-6.67c4.36-1.43,8.73-2.11,13.13-2.24c4.34-0.13,8.7,0.29,13.12,1.07c4.39,0.77,8.84,1.9,13.39,3.21 c4.81-0.09,8.87,0.43,12.33,1.46c3.5,1.03,6.39,2.57,8.82,4.49c2.41,1.9,4.34,4.15,5.97,6.64c1.6,2.45,2.89,5.11,4.03,7.89 c1.28,1.17,2.51,2.47,3.68,3.87c1.18,1.42,2.28,2.93,3.28,4.51c1.49,2.36,2.75,4.88,3.69,7.45c0.89,2.44,1.48,4.92,1.69,7.37 c0.24,2.69,0.02,5.34-0.75,7.85c-0.72,2.33-1.92,4.52-3.69,6.5c-0.6,0.66-1.25,1.3-1.96,1.89c-0.69,0.58-1.44,1.13-2.26,1.65 c-0.1,0.07-0.21,0.14-0.33,0.19c-0.11,0.05-0.23,0.09-0.36,0.11l-2.35,0.46c-0.07,4.06-0.55,7.53-1.49,10.48 c-0.99,3.08-2.48,5.6-4.57,7.63c-2.02,1.97-4.57,3.44-7.71,4.5C94.3,90.26,90.74,90.89,86.57,91.21L86.57,91.21z"/>
                        </g></svg>
                    Learning module
                </NavLink>
            </li>
        </ul>
    </div>
}

@if (isMenuOpen || isUserMenuOpen || isAlertMenuOpen)
{
    <div class="menu-backdrop" @onclick="CloseMenu"></div>
}

@code {
    private bool isMenuOpen = false;
    private bool isUserMenuOpen = false;
    private Bruger? currentUser;
    [Inject] private IElevplanService eService { get; set; }
    [Inject] private IBrugereService bService { get; set; }

    private List<string> deadlines = new();


    protected override async Task OnInitializedAsync()
    {
        currentUser = await lService.GetUserLoggedIn();

        if (currentUser != null && currentUser.Rolle == "Elev")
        {
            var kommende = await eService.HentKommendeDeadlines(currentUser._id);
            deadlines = kommende
                .Select(d => $"{d.Titel} – {d.Deadline?.ToString("dd.MM.yyyy")}")
                .ToList();
        }
    }


    private void ToggleMenu()
    {
        isMenuOpen = !isMenuOpen;
        if (isMenuOpen)
        {
            isUserMenuOpen = false;
            isAlertMenuOpen = false;
        }
    }

    private void ToggleUserMenu()
    {
        isUserMenuOpen = !isUserMenuOpen;
        if (isUserMenuOpen)
        {
            isMenuOpen = false;
            isAlertMenuOpen = false;
        }
    }

    private void ToggleAlertMenu()
    {
        isAlertMenuOpen = !isAlertMenuOpen;
        if (isAlertMenuOpen)
        {
            isMenuOpen = false;
            isUserMenuOpen = false;
        }
    }


    private void CloseMenu()
    {
        isMenuOpen = false;
        isUserMenuOpen = false;
        isAlertMenuOpen = false;
    }

    private async Task LogUd()
    {
        await localStorage.RemoveItemAsync("bruger");
        currentUser = null;
        navManager.NavigateTo("/login/hjem", forceLoad: true);
    }

    private bool isAlertMenuOpen = false;
}
